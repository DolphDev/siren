# nws-alert V 0.0.5.23

A Python library for the National Weather Service Public Alerts. 




# Documentation
---

import the module

    import NWS

(NWS is the Development name of this module)   



# Alert Object

This module includes the object `NWS.alert()`. This object wraps around the entire module for easy and more consistent use. The a valid reason you wouldn't want to use is if you want somewhat unparsed data or you need data in way that this object doesn't provide.

To the create the object

    alert = NWS.alert()

This also accepts keyword arguments for more advanced customization. 
a
* `state` - Default is `"us"` (Which is the entire country). Accepts either state abbreviations or county/zone code.
* `loc` - Default is `False`. Must be `True` if `state` is a country/zone code. Leave `False` if your using a state abbreviation.
* `auto_load` - Default is `False`. If set to `True` the Object will load the data on its creation.
* `limit` - Default is None. Sets a universal limit for the object. It will be used if you call a method without specifying a limit.


###### Note: `alert` is a arbitrary variable name, it can be any valid variable name.

## Methods

###Getting data

You must use `alert.load()` if you did not set `auto_load` to `True` when creating the object.

`alert.load()` requests the data. Returns `True` if successful and `False`



## Parsing 

Their is two ways this module parses the data:

##### On Demand.

A simple approach is to simply parse your data as you need it. Simply use the functions outlined in the Parsing Data section below.

This module keeps a cache the last request for each of parsing functions. The cache is deleted or refreshed when either `alert.load` is called or the said functions are called with different parameters.

##### Pre-processing

Another approach is to pre-process your data. To do this you call `alert.parse()`. It calls the parsing methods and stores the result. `alert.parse` accepts one argument, and integer representing the limit, default is None (it will parse all warnings if argument is None) .

Please note that you must use the same parameters for `alert.parse()` as you use for the parsing functions. For example if you use 'alert.parse(5)', if you want use the cache data generated by that method, you must use (xxx represents any of the parsing functions) `alert.get_xxx(5)`. If the argument is different, it reprocesses the data.




Sometimes the data will contain no alerts. The module includes one function to help with this

`alert.warnings` - Returns ``True`` if request has active alerts. ``False`` if not. **DOES NOT** check for 404, if the server returns it will raise an error.




### Parsing data.




#### get()

'alert.get()' - accepts the keyword argument `content` with an list of valid requests in it. for example, if you want `get_cap()`, `get_title()`, `get_id()`, and `get_summary()` in that exact order, simply make this call.

    alert.get(content=["cap","title","id","summary"])

It returns an list with the specified data where you want it (I.E `"cap"` is replaced with the result of `get_cap()`)

Note: this does not support reports.

#### get_title()

`alert.get_title(5)` - accepts 1 optional argument, an Integer representing a limit how on much of the data you want to parse. 

Example 

`alert.get_title(5)` -  the title of the warning



#### get_id()

`alert.get_id()` - accepts 1 optional argument, an Integer representing a limit how on much of the data you want to parse. Returns the id of the warnings. Needed request the full reports

Example 

    alert.get_id(5) # Five is the limit I have decided to use.

Limit must be larger than 0. (If its 0 it defaults to None, which means you have **no limit**). If limit goes over the actual amount of warnings, it just returns all of the warnings.


#### get_summary()

`alert.get_summary()` - accepts 1 optional argument, an Integer representing a limit how on much of the data you want to parse. Returns the id of the warnings. Cap fee

Example 

    alert.get_summary(5) # Five is the limit I have decided to use.

Returns the summaries of the warnings.



#### get_cap()

`alert.get_cap(5)` - accepts 1 optional argument, an Integer representing a limit how on much of the data you want to parse. Returns the id of the warnings. Cap fee

Example 

    alert.get_cap(5) # Five is the limit I have decided to use.

Cap returns most of the data about the warning. 

###### Note:

5 is arbitrary example. It can be any int above 0.



#Old Documentation

These methods still work, but they are older and now wrapped around the Alert Method. they still may be used if you want more flexible use of the data.

You can view the old documentation [here](http://github.com/Dolphman/nws-alert/OldDoc.md)



# Other Info

## DISCLAIMER

THIS LIBRARY SHOULD NOT BE USED TO ACTIVATE (OR EVEN WORK WITH) ANY KIND OF PRIVATE EMERGENCY SYSTEM/ALARM. IT WAS NEVER INTENDED TO BE USED AS SUCH. THIS LIBRARY SHOULD ONLY BE USED AS (INCLUDING, BUT NOT LIMITED TO) AN RESPONSIBLE NOTIFICATION SERVICE OR PERSONAL USE.

## Resources

Rules and Regulations - http://www.ecfr.gov/cgi-bin/text-idx?rgn=div5;node=47%3A1.0.1.1.12#se47.1.11_153
